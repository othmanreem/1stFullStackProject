{
  "version": 3,
  "sources": ["../src/js/client.js"],
  "sourcesContent": ["/**\n * \n * @param {object} data \n * \n * Ett fetch request till /login endpoint f\u00F6r att f\u00E5 anv\u00E4ndarenes namn och id som resultat\n */\nasync function userInfo(data) {\n\n    const res = await fetch(\"/login\", {\n        method: \"post\",\n        headers: {\n            \"content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ data: data })\n    })\n    const user = await res.json();\n\n    setSession(user.sub, user.name)\n\n}\nwindow.userInfo = userInfo;\n/**\n * \n *Fetch till /me f\u00F6r att verifiera om anv\u00E4ndaren finns redan i databasen\n */\nasync function setSession(id, name) {\n\n    const res = await fetch(\"/me\", {\n        method: \"post\",\n        headers: {\n            \"content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ id: id, name: name })\n    })\n\n    const userId = await res.json();\n\n    const referer = document.referrer;\n    const isShared = referer.includes(\"shared.html\");\n    const redirectUrl = isShared ? referer : \"index.html\";\n\n    if (id === userId) {\n\n        const saveId = localStorage.setItem(\"userId\", userId);\n        window.location.assign(redirectUrl);\n    }\n}\n"],
  "mappings": "MAMA,eAAeA,EAASC,EAAM,CAS1B,IAAMC,EAAO,MAPD,MAAM,MAAM,SAAU,CAC9B,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,UAAU,CAAE,KAAMD,CAAK,CAAC,CACvC,CAAC,GACsB,KAAK,EAE5BE,EAAWD,EAAK,IAAKA,EAAK,IAAI,CAElC,CACA,OAAO,SAAWF,EAKlB,eAAeG,EAAWC,EAAIC,EAAM,CAUhC,IAAMC,EAAS,MARH,MAAM,MAAM,MAAO,CAC3B,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,UAAU,CAAE,GAAIF,EAAI,KAAMC,CAAK,CAAC,CAC/C,CAAC,GAEwB,KAAK,EAExBE,EAAU,SAAS,SAEnBC,EADWD,EAAQ,SAAS,aAAa,EAChBA,EAAU,aAEzC,GAAIH,IAAOE,EAAQ,CAEf,IAAMG,EAAS,aAAa,QAAQ,SAAUH,CAAM,EACpD,OAAO,SAAS,OAAOE,CAAW,CACtC,CACJ",
  "names": ["userInfo", "data", "user", "setSession", "id", "name", "userId", "referer", "redirectUrl", "saveId"]
}
