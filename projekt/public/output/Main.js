(()=>{function a(){}a.prototype.construct=function(e){a.prototype.handelInputs.call(e)};a.prototype.handelInputs=function(){var e=this;e.helpBtn.addEventListener("click",function(n){n.preventDefault(),e.checkInputs()});for(var t=0;t<this.inputs.length;t++)this.inputs[t].addEventListener("focus",function(){var n=e.arr.indexOf(this.value);n!==-1&&e.arr.splice(n,1),this.value="",this.setAttribute("placeholder","Type a word"),e.helpBtn.innerHTML="Get Words",e.controllInput()}),this.inputs[t].addEventListener("keypress",function(n){n.key==="Enter"&&(n.preventDefault(),this.blur())}),this.inputs[t].addEventListener("blur",function(){this.value!==""&&e.arr.push(this.value),e.arr.length===5&&(e.helpBtn.innerHTML="Start Now",e.controllInput())})};function d(){this.m_construct()}d.prototype.m_construct=function(){};d.prototype.fetch=function(e,t,n,s){var r=this;(function(){e.setAttribute("disabled","true"),n.setAttribute("placeholder","Loading.."),fetch("https://api.api-ninjas.com/v1/randomword",{method:"GET",headers:{"X-Api-Key":"ucXLCy2iy2Zm20z8aem6qg==7IP4UrGTsRw5aoKP"}}).then(function(o){if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(function(o){var c=o.word;n.value=c,t.push(c)}).then(function(){r.m_address(t,e,s)}).catch(function(o){console.error("Error:",o)})})()};d.prototype.m_address=function(e,t,n){e.length===5&&(t.removeAttribute("disabled"),t.innerHTML="Start Now",n.controllInput())};function i(){this.body=document.getElementById("body"),this.form=document.createElement("form"),this.helpBtn=document.createElement("button"),this.arr=[],this.tmp=null,this.m_construct()}i.prototype.m_construct=function(){this.buildGame()};i.prototype.buildGame=function(){var e=this;this.body.innerHTML="",this.body.appendChild(this.form),this.form.setAttribute("id","input_form");for(var t=0;t<5;t++){var n=document.createElement("input");n.setAttribute("placeholder","Type a word"),n.setAttribute("type","text"),n.setAttribute("class","input"),this.form.appendChild(n)}this.inputs=document.getElementsByClassName("input");var s=document.createTextNode("Get Words");this.helpBtn.appendChild(s),this.helpBtn.setAttribute("id","help"),this.helpBtn.setAttribute("type","button"),this.form.appendChild(this.helpBtn);var r=new a;r.construct(this)};i.prototype.checkInputs=function(){for(var e=this,t=0;t<this.inputs.length;t++){var n=this.inputs[t].value;n===""&&d.prototype.fetch(this.helpBtn,this.arr,this.inputs[t],e)}};i.prototype.controllInput=function(e,t){var n=this,s=localStorage.setItem("words",JSON.stringify(this.arr)),r=localStorage.getItem("userId");this.helpBtn.innerHTML==="Start Now"?this.helpBtn.addEventListener("click",n.address):this.helpBtn.removeEventListener("click",n.address)};i.prototype.address=async function(e){var t=localStorage.getItem("words"),n=localStorage.getItem("userId"),s=await fetch("/send",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({wordsArray:t,usrId:n})}),r=await s.json(),o=localStorage.setItem("arrId",r);window.location.assign(`round.html?pram=${r}`)};function h(){var e=this;this.init=function(){var t=document.getElementById("run_game_btn");t.addEventListener("click",function(){var n=new i})}}window.addEventListener("load",function(){var e=this.localStorage.getItem("userId");if(e){var t=new h;t.init()}else this.location.assign("login.html")});window.addEventListener("pageshow",function(e){var t=e.persisted||typeof window.performance<"u"&&window.performance.navigation.type===2;t&&window.location.reload()});})();
//# sourceMappingURL=Main.js.map
